/*! For license information please see main.7e641866.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://5f52b486-d0b4-46b2-8fa8-5d44d397cf85.preview.emergentagent.com","/api"),At=()=>{var e;const[t,n]=(0,a.useState)(""),[r,l]=(0,a.useState)("general"),[o,i]=(0,a.useState)("short"),[s,u]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[f,p]=(0,a.useState)([]),[h,m]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),[w,x]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[E,N]=(0,a.useState)(!1),[C,_]=(0,a.useState)(""),[j,P]=(0,a.useState)([]),[O,T]=(0,a.useState)(!1),[R,L]=(0,a.useState)(null),[z,A]=(0,a.useState)([]),[F,D]=(0,a.useState)(null),[U,M]=(0,a.useState)(!1),[I,B]=(0,a.useState)(!1),[q,H]=(0,a.useState)(null),[V,$]=(0,a.useState)(!1),[W,Q]=(0,a.useState)(null),[G,K]=(0,a.useState)(null),[X,Y]=(0,a.useState)("default"),[J,Z]=(0,a.useState)(null),[ee,te]=(0,a.useState)(null),[ne,re]=(0,a.useState)(!1),[ae,le]=(0,a.useState)(!1),[oe,ie]=(0,a.useState)("business_professional"),[se,ue]=(0,a.useState)("female"),[ce,de]=(0,a.useState)(1),[fe,pe]=(0,a.useState)(!1),[he,me]=(0,a.useState)("cinematic"),[ge,be]=(0,a.useState)("general"),[ye,ve]=(0,a.useState)("professional"),[we,xe]=(0,a.useState)(!1),[ke,Se]=(0,a.useState)(null),Ee=async()=>{try{const e=await Rt.get("".concat(zt,"/scripts"));P(e.data.slice(0,5))}catch(e){console.error("Error fetching scripts:",e)}};(0,a.useEffect)((()=>{Ee(),(async()=>{try{const e=await Rt.get("".concat(zt,"/voices"));if(A(e.data),e.data.length>0){const t=e.data.find((e=>"Female"===e.gender))||e.data[0];D(t)}}catch(e){console.error("Error fetching voices:",e),_("Error loading voices. Please refresh the page.")}})()}),[]);const Ne=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t,l="original";if("enhanced"===e&&null!==n&&f[n]?(a=f[n].enhanced_prompt,l="enhanced (".concat(f[n].title,")")):"enhanced"===e&&s&&(a=s,l="enhanced"),a.trim()){S(!0),_("");try{const e=await Rt.post("".concat(zt,"/generate-script"),{prompt:a,video_type:r,duration:o});b(e.data.generated_script),v(l),Ee()}catch(i){_("Error generating script. Please try again."),console.error("Error generating script:",i)}finally{S(!1)}}else _("Please enter a prompt first")},Ce=e=>e.replace(/\n\n/g,"<br/><br/>").replace(/\n/g,"<br/>").replace(/\*\*([^*]+)\*\*/g,'<strong class="font-bold">$1</strong>');return(0,Lt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:(0,Lt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Lt.jsxs)("div",{className:"text-center mb-12",children:[(0,Lt.jsx)("h1",{className:"text-5xl font-bold text-white mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"\ud83c\udfac AI Script Generator"}),(0,Lt.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Create emotionally compelling, highly engaging video scripts that keep viewers hooked from start to finish"})]}),(0,Lt.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,Lt.jsxs)("div",{className:"space-y-6",children:[(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,Lt.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create Your Script"}),(0,Lt.jsxs)("div",{className:"mb-6",children:[(0,Lt.jsx)("label",{className:"block text-white font-medium mb-2",children:"Your Video Idea"}),(0,Lt.jsx)("textarea",{value:t,onChange:e=>n(e.target.value),placeholder:"Describe your video idea... (e.g., 'A motivational video about overcoming fear')",className:"w-full h-32 px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),(0,Lt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("label",{className:"block text-white font-medium mb-2",children:"Video Type"}),(0,Lt.jsxs)("select",{value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,Lt.jsx)("option",{value:"general",children:"General"}),(0,Lt.jsx)("option",{value:"educational",children:"Educational"}),(0,Lt.jsx)("option",{value:"entertainment",children:"Entertainment"}),(0,Lt.jsx)("option",{value:"marketing",children:"Marketing"})]})]}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("label",{className:"block text-white font-medium mb-2",children:"Duration"}),(0,Lt.jsxs)("select",{value:o,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,Lt.jsx)("option",{value:"short",children:"Short (30s-1min)"}),(0,Lt.jsx)("option",{value:"medium",children:"Medium (1-3min)"}),(0,Lt.jsx)("option",{value:"long",children:"Long (3-5min)"})]})]})]}),(0,Lt.jsxs)("div",{className:"space-y-3",children:[(0,Lt.jsx)("button",{onClick:async()=>{if(t.trim()){x(!0),_("");try{const e=(await Rt.post("".concat(zt,"/enhance-prompt"),{original_prompt:t,video_type:r})).data;if(p(e.enhancement_variations||[]),m(e.recommendation||""),e.enhancement_variations&&e.enhancement_variations.length>0){const t=e.enhancement_variations.reduce(((e,t)=>t.estimated_performance_score>e.estimated_performance_score?t:e));u(t.enhanced_prompt),d(e.recommendation||"".concat(t.title," - Focus: ").concat(t.focus_strategy))}N(!0)}catch(e){_("Error enhancing prompt. Please try again."),console.error("Error enhancing prompt:",e)}finally{x(!1)}}else _("Please enter a prompt first")},disabled:w||!t.trim(),className:"w-full py-3 px-6 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-semibold rounded-lg shadow-lg hover:from-yellow-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:w?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enhancing Prompt..."]}):"\u2728 Enhance Prompt"}),!E&&(0,Lt.jsx)("button",{onClick:()=>Ne(!1),disabled:k||!t.trim(),className:"w-full py-3 px-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:k?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Generating Script..."]}):"\ud83c\udfac Generate Script"})]}),C&&(0,Lt.jsx)("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-200",children:C})]}),E&&(s||f.length>0)&&(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,Lt.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"\u2728 Enhanced Prompts"}),(0,Lt.jsxs)("div",{className:"mb-4",children:[(0,Lt.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Original:"}),(0,Lt.jsx)("p",{className:"text-gray-400 bg-white/5 p-3 rounded-lg",children:t})]}),f.length>0&&(0,Lt.jsxs)("div",{className:"mb-6",children:[(0,Lt.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Enhancement Variations:"}),(0,Lt.jsx)("div",{className:"space-y-3",children:f.map(((e,t)=>(0,Lt.jsxs)("div",{className:"p-4 rounded-lg border bg-white/5 border-white/20",children:[(0,Lt.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,Lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Lt.jsxs)("span",{className:"text-white font-medium",children:[t+1,". ",e.title]}),(0,Lt.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full",children:e.focus_strategy}),(0,Lt.jsxs)("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-300 rounded-full",children:["Score: ",Math.round(e.estimated_performance_score),"/10"]})]})}),(0,Lt.jsx)("div",{className:"text-gray-300 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:Ce(e.enhanced_prompt)}})]},e.id)))})]}),0===f.length&&s&&(0,Lt.jsxs)("div",{className:"mb-6",children:[(0,Lt.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Enhanced:"}),(0,Lt.jsx)("div",{className:"text-white bg-white/5 p-3 rounded-lg leading-relaxed",dangerouslySetInnerHTML:{__html:Ce(s)}})]}),h&&(0,Lt.jsxs)("div",{className:"mb-6",children:[(0,Lt.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"AI Recommendation:"}),(0,Lt.jsx)("div",{className:"text-gray-300 bg-blue-500/10 border border-blue-500/20 p-3 rounded-lg text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:Ce(h)}})]}),!h&&c&&(0,Lt.jsxs)("div",{className:"mb-6",children:[(0,Lt.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Why this is better:"}),(0,Lt.jsx)("div",{className:"text-gray-300 bg-white/5 p-3 rounded-lg text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:Ce(c)}})]}),(0,Lt.jsxs)("div",{className:"space-y-3",children:[(0,Lt.jsx)("button",{onClick:()=>Ne("original"),disabled:k,className:"w-full py-3 px-4 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold rounded-lg shadow-lg hover:from-gray-700 hover:to-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:k?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):"\ud83c\udfac Generate with Original"}),f.map(((e,t)=>(0,Lt.jsx)("button",{onClick:()=>Ne("enhanced",t),disabled:k,className:"w-full py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:k?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):(0,Lt.jsxs)("div",{className:"text-center",children:[(0,Lt.jsxs)("div",{children:["\u2728 Generate with ",t+1,0===t?"st":1===t?"nd":"rd"," Enhanced Prompt"]}),(0,Lt.jsxs)("div",{className:"text-xs opacity-75 mt-1",children:[e.title," (",e.focus_strategy,")"]})]})},e.id)))]})]})]}),(0,Lt.jsxs)("div",{className:"space-y-6",children:[g&&(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,Lt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Lt.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["\ud83c\udfac Generated Script",(0,Lt.jsxs)("span",{className:"text-sm font-normal text-gray-300 ml-2",children:["(",y," prompt)"]})]}),(0,Lt.jsx)("button",{onClick:()=>{if(O)return q&&(q.pause(),q.currentTime=0),T(!1),void H(null);M(!0)},disabled:I,className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ".concat(O?"bg-red-500/20 text-red-300 hover:bg-red-500/30":I?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300 hover:bg-green-500/30"," ").concat(I?"cursor-not-allowed opacity-75":""),children:I?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-300"}),(0,Lt.jsx)("span",{children:"Generating..."})]}):(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{children:O?"\u23f9\ufe0f":"\ud83c\udfb5"}),(0,Lt.jsx)("span",{children:O?"Stop":"Listen"})]})})]}),(0,Lt.jsx)("div",{className:"text-gray-200 leading-relaxed bg-white/5 p-4 rounded-lg max-h-96 overflow-y-auto",dangerouslySetInnerHTML:{__html:(_e=g,_e.replace(/\[([^\]]+)\]/g,'<span class="text-blue-600 font-medium">[$1]</span>').replace(/\(([^)]+)\)/g,'<span class="text-green-600 italic">($1)</span>').replace(/\*\*([^*]+)\*\*/g,'<strong class="font-bold">$1</strong>').replace(/\n/g,"<br/>"))}}),(0,Lt.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/20 flex flex-wrap gap-3",children:[(0,Lt.jsxs)("button",{onClick:()=>navigator.clipboard.writeText(g),className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors flex items-center space-x-2",children:[(0,Lt.jsx)("span",{children:"\ud83d\udccb"}),(0,Lt.jsx)("span",{children:"Copy Script"})]}),G&&F&&(0,Lt.jsxs)("button",{onClick:()=>{if(G&&F)try{const e=atob(G),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);const n=new Blob([t],{type:"audio/mp3"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r;const l=(new Date).toISOString().split("T")[0],o=F.display_name.replace(/\s+/g,"_");a.download="script_audio_".concat(o,"_").concat(l,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}catch(e){console.error("Error downloading audio:",e),_("Error downloading audio. Please try again.")}else _("No audio available to download.")},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center space-x-2",children:[(0,Lt.jsx)("span",{children:"\ud83d\udcbe"}),(0,Lt.jsx)("span",{children:"Download Audio"})]}),G&&(0,Lt.jsx)("button",{onClick:async()=>{if(G){$(!0),_("");try{const e=await Rt.post("".concat(zt,"/generate-avatar-video"),{audio_base64:G}),t=e.data.video_base64,n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);const a=new Blob([r],{type:"video/mp4"}),l=URL.createObjectURL(a);Q({url:l,blob:a,duration:e.data.duration_seconds,requestId:e.data.request_id})}catch(e){console.error("Error generating avatar video:",e),_("Error generating avatar video. Please try again.")}finally{$(!1)}}else _("Please generate audio first before creating avatar video.")},disabled:V,className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ".concat(V?"bg-yellow-500/20 text-yellow-300 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-teal-600 text-white hover:from-green-700 hover:to-teal-700"),children:V?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-300"}),(0,Lt.jsx)("span",{children:"Creating Video..."})]}):(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{children:"\ud83c\udfa5"}),(0,Lt.jsx)("span",{children:"Generate Avatar Video"})]})}),G&&(0,Lt.jsxs)("button",{onClick:()=>re(!0),disabled:V,className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ".concat(V?"bg-yellow-500/20 text-yellow-300 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700"),children:[(0,Lt.jsx)("span",{children:"\u2728"}),(0,Lt.jsx)("span",{children:"Enhanced Avatar Video"})]}),G&&(0,Lt.jsxs)("button",{onClick:()=>le(!0),disabled:V,className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ".concat(V?"bg-yellow-500/20 text-yellow-300 cursor-not-allowed":"bg-gradient-to-r from-pink-600 to-red-600 text-white hover:from-pink-700 hover:to-red-700"),children:[(0,Lt.jsx)("span",{children:"\ud83c\udfac"}),(0,Lt.jsx)("span",{children:"Ultra-Realistic Avatar"})]}),!O&&!I&&!G&&(0,Lt.jsx)("div",{className:"text-xs text-gray-400 flex items-center",children:'\ud83d\udca1 Click "Listen" to choose a voice and hear your script read aloud'}),G&&F&&(0,Lt.jsxs)("div",{className:"text-xs text-green-400 flex items-center space-x-2",children:[(0,Lt.jsx)("span",{children:"\ud83c\udfa4"}),(0,Lt.jsxs)("span",{children:["Audio generated with: ",(0,Lt.jsx)("strong",{children:F.display_name})]}),(0,Lt.jsx)("span",{className:"text-gray-400",children:'\u2022 Click "Download Audio" to save'})]})]})]}),W&&(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,Lt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Lt.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["\ud83c\udfa5 Generated Avatar Video",W.qualityLevel&&(0,Lt.jsxs)("span",{className:"text-sm font-normal text-gray-300 ml-2",children:["(",W.qualityLevel,")"]})]}),(0,Lt.jsxs)("button",{onClick:()=>{if(W){const e=document.createElement("a");e.href=W.url,e.download="avatar-video-".concat(W.requestId,".mp4"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2",children:[(0,Lt.jsx)("span",{children:"\ud83d\udce5"}),(0,Lt.jsx)("span",{children:"Download Video"})]})]}),(0,Lt.jsxs)("div",{className:"bg-white/5 p-4 rounded-lg",children:[(0,Lt.jsx)("video",{src:W.url,controls:!0,className:"w-full max-w-md mx-auto rounded-lg",style:{maxHeight:"400px"},children:"Your browser does not support the video tag."}),(0,Lt.jsxs)("div",{className:"mt-4 text-center",children:[(0,Lt.jsxs)("p",{className:"text-gray-300 text-sm",children:["Duration: ",Math.round(W.duration||0),"s",W.scriptSegments&&(0,Lt.jsxs)("span",{children:[" | Script Segments: ",W.scriptSegments]})]}),"Ultra-Realistic"===W.qualityLevel&&(0,Lt.jsxs)("div",{className:"mt-3 p-3 bg-gradient-to-r from-pink-500/20 to-red-500/20 rounded-lg border border-pink-500/30",children:[(0,Lt.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-xs text-white",children:[(0,Lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Lt.jsx)("span",{children:"\ud83c\udfad"}),(0,Lt.jsxs)("span",{children:["Style: ",null===(e=W.avatarStyle)||void 0===e?void 0:e.replace("_"," ")]})]}),(0,Lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Lt.jsx)("span",{children:"\ud83d\udc64"}),(0,Lt.jsxs)("span",{children:["Gender: ",W.gender]})]}),(0,Lt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Lt.jsx)("span",{children:"\ud83e\udd16"}),(0,Lt.jsxs)("span",{children:["AI: ",W.aiModelUsed]})]})]}),W.backgroundContexts&&W.backgroundContexts.length>0&&(0,Lt.jsxs)("div",{className:"mt-2 text-xs text-gray-300",children:[(0,Lt.jsx)("span",{className:"font-medium",children:"\ud83c\udfac Dynamic Backgrounds: "}),W.backgroundContexts.join(", ")]})]}),"Enhanced"===W.qualityLevel&&(0,Lt.jsxs)("div",{className:"mt-3 text-xs text-gray-400",children:[(0,Lt.jsx)("span",{className:"font-medium",children:"\u2728 Enhanced Features: "}),"Avatar Option: ",W.avatarOption,W.sadtalkerUsed&&" | SadTalker: Enabled"]}),!W.qualityLevel&&(0,Lt.jsx)("div",{className:"mt-3 text-xs text-gray-400",children:"\ud83d\udca1 This avatar video contains essential narration from your script, perfectly synchronized with lip movements for professional video content."})]})]})]}),j.length>0&&(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,Lt.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"\ud83d\udcda Recent Scripts"}),(0,Lt.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:j.map((e=>(0,Lt.jsxs)("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>{b(e.generated_script),v("saved")},children:[(0,Lt.jsx)("p",{className:"text-gray-300 text-sm mb-2 line-clamp-2",children:e.original_prompt}),(0,Lt.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[(0,Lt.jsxs)("span",{children:[e.video_type," \u2022 ",e.duration]}),(0,Lt.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]},e.id)))})]})]})]}),U&&(0,Lt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[(0,Lt.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"\ud83c\udfa4 Choose Voice"}),(0,Lt.jsx)("div",{className:"space-y-3 mb-6",children:z.map((e=>(0,Lt.jsx)("button",{onClick:()=>(e=>{D(e)})(e),className:"w-full p-3 rounded-lg text-left transition-all duration-200 ".concat((null===F||void 0===F?void 0:F.name)===e.name?"bg-purple-500/30 border-purple-400 border-2 text-white":"bg-white/5 border border-white/20 text-gray-300 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("div",{className:"font-medium",children:e.display_name}),(0,Lt.jsx)("div",{className:"text-sm text-gray-400",children:e.language})]}),(0,Lt.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat("Female"===e.gender?"bg-pink-500/20 text-pink-300":"bg-blue-500/20 text-blue-300"),children:e.gender})]})},e.name)))}),(0,Lt.jsxs)("div",{className:"flex space-x-3",children:[(0,Lt.jsx)("button",{onClick:()=>M(!1),className:"flex-1 py-3 px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Lt.jsx)("button",{onClick:async()=>{if(F&&g){B(!0),M(!1),_("");try{const e=(await Rt.post("".concat(zt,"/generate-audio"),{text:g,voice_name:F.name})).data.audio_base64,t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=new Blob([n],{type:"audio/mp3"}),a=URL.createObjectURL(r),l=new Audio(a);l.onloadstart=()=>{T(!0)},l.onended=()=>{T(!1),H(null),URL.revokeObjectURL(a)},l.onerror=e=>{console.error("Audio playback error:",e),T(!1),H(null),_("Error playing audio. Please try again."),URL.revokeObjectURL(a)},H(l),K(e),l.play()}catch(e){console.error("Error generating audio:",e),_("Error generating audio. Please try again.")}finally{B(!1)}}else _("Please select a voice and ensure you have a script to read.")},disabled:!F||I,className:"flex-1 py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:I?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):"\ud83c\udfb5 Generate Audio"})]})]})}),ne&&(0,Lt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[(0,Lt.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"\u2728 Avatar Options"}),(0,Lt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Lt.jsx)("div",{onClick:()=>Y("default"),className:"p-4 rounded-lg cursor-pointer transition-all duration-200 ".concat("default"===X?"bg-purple-500/30 border-purple-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Lt.jsx)("div",{className:"text-2xl",children:"\ud83e\udd16"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("div",{className:"font-medium text-white",children:"Default AI Avatar"}),(0,Lt.jsx)("div",{className:"text-sm text-gray-400",children:"Use our built-in professional avatar"})]})]})}),(0,Lt.jsx)("div",{onClick:()=>Y("upload"),className:"p-4 rounded-lg cursor-pointer transition-all duration-200 ".concat("upload"===X?"bg-purple-500/30 border-purple-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Lt.jsx)("div",{className:"text-2xl",children:"\ud83d\udcf8"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("div",{className:"font-medium text-white",children:"Upload Your Photo"}),(0,Lt.jsx)("div",{className:"text-sm text-gray-400",children:"Use your own image as the avatar"})]})]})}),(0,Lt.jsx)("div",{onClick:()=>Y("ai_generated"),className:"p-4 rounded-lg cursor-pointer transition-all duration-200 ".concat("ai_generated"===X?"bg-purple-500/30 border-purple-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Lt.jsx)("div",{className:"text-2xl",children:"\ud83c\udfad"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("div",{className:"font-medium text-white",children:"AI Generated Avatar"}),(0,Lt.jsx)("div",{className:"text-sm text-gray-400",children:"Create a unique AI-generated human face"})]})]})}),"upload"===X&&(0,Lt.jsxs)("div",{className:"mt-4 p-4 bg-white/5 rounded-lg border border-white/20",children:[(0,Lt.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Upload your photo:"}),(0,Lt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){Z(t);const e=new FileReader;e.onload=e=>{const t=e.target.result.split(",")[1];te(t)},e.readAsDataURL(t)}},className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-purple-500/20 file:text-purple-300 hover:file:bg-purple-500/30"}),J&&(0,Lt.jsxs)("div",{className:"mt-2 text-sm text-green-400",children:["\u2713 Image uploaded: ",J.name]})]})]}),(0,Lt.jsxs)("div",{className:"flex gap-3",children:[(0,Lt.jsx)("button",{onClick:()=>re(!1),className:"flex-1 py-3 px-4 bg-gray-600 text-white font-semibold rounded-lg shadow-lg hover:bg-gray-700 transition-all duration-200",children:"Cancel"}),(0,Lt.jsx)("button",{onClick:async()=>{if(G)if("upload"!==X||ee){$(!0),_(""),re(!1);try{const e=await Rt.post("".concat(zt,"/generate-enhanced-avatar-video"),{audio_base64:G,avatar_option:X,user_image_base64:ee,script_text:g}),t=e.data.video_base64,n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);const a=new Blob([r],{type:"video/mp4"}),l=URL.createObjectURL(a);Q({url:l,blob:a,duration:e.data.duration_seconds,requestId:e.data.request_id,avatarOption:e.data.avatar_option,scriptSegments:e.data.script_segments,sadtalkerUsed:e.data.sadtalker_used,qualityLevel:"Enhanced"})}catch(e){console.error("Error generating enhanced avatar video:",e),_("Error generating enhanced avatar video. Please try again.")}finally{$(!1)}}else _("Please upload an image for the upload option.");else _("Please generate audio first before creating avatar video.")},disabled:V||"upload"===X&&!ee,className:"flex-1 py-3 px-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg shadow-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:V?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):"\u2728 Generate Enhanced Video"})]})]})}),ae&&(0,Lt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Lt.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,Lt.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,Lt.jsx)("span",{className:"mr-2",children:"\ud83c\udfac"}),"Ultra-Realistic Avatar Options"]}),(0,Lt.jsxs)("div",{className:"space-y-6",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("label",{className:"block text-white text-sm font-medium mb-3",children:"Avatar Style"}),(0,Lt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Lt.jsx)("div",{onClick:()=>ie("business_professional"),className:"p-3 rounded-lg cursor-pointer transition-all duration-200 ".concat("business_professional"===oe?"bg-pink-500/30 border-pink-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Lt.jsx)("div",{className:"text-xl",children:"\ud83d\udc54"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("div",{className:"font-medium text-white",children:"Business Professional"}),(0,Lt.jsx)("div",{className:"text-xs text-gray-400",children:"Formal, corporate style"})]})]})}),(0,Lt.jsx)("div",{onClick:()=>ie("casual"),className:"p-3 rounded-lg cursor-pointer transition-all duration-200 ".concat("casual"===oe?"bg-pink-500/30 border-pink-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Lt.jsx)("div",{className:"text-xl",children:"\ud83d\udc55"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("div",{className:"font-medium text-white",children:"Casual"}),(0,Lt.jsx)("div",{className:"text-xs text-gray-400",children:"Relaxed, friendly style"})]})]})})]})]}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("label",{className:"block text-white text-sm font-medium mb-3",children:"Avatar Gender"}),(0,Lt.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Lt.jsx)("div",{onClick:()=>ue("female"),className:"p-3 rounded-lg cursor-pointer transition-all duration-200 ".concat("female"===se?"bg-pink-500/30 border-pink-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"text-center",children:[(0,Lt.jsx)("div",{className:"text-xl mb-1",children:"\ud83d\udc69"}),(0,Lt.jsx)("div",{className:"text-sm font-medium text-white",children:"Female"})]})}),(0,Lt.jsx)("div",{onClick:()=>ue("male"),className:"p-3 rounded-lg cursor-pointer transition-all duration-200 ".concat("male"===se?"bg-pink-500/30 border-pink-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"text-center",children:[(0,Lt.jsx)("div",{className:"text-xl mb-1",children:"\ud83d\udc68"}),(0,Lt.jsx)("div",{className:"text-sm font-medium text-white",children:"Male"})]})}),(0,Lt.jsx)("div",{onClick:()=>ue("diverse"),className:"p-3 rounded-lg cursor-pointer transition-all duration-200 ".concat("diverse"===se?"bg-pink-500/30 border-pink-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"text-center",children:[(0,Lt.jsx)("div",{className:"text-xl mb-1",children:"\ud83c\udf0d"}),(0,Lt.jsx)("div",{className:"text-sm font-medium text-white",children:"Diverse"})]})})]})]}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("label",{className:"block text-white text-sm font-medium mb-3",children:"Avatar Variation"}),(0,Lt.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map((e=>(0,Lt.jsx)("div",{onClick:()=>de(e),className:"p-3 rounded-lg cursor-pointer transition-all duration-200 ".concat(ce===e?"bg-pink-500/30 border-pink-400 border-2":"bg-white/5 border border-white/20 hover:bg-white/10"),children:(0,Lt.jsxs)("div",{className:"text-center",children:[(0,Lt.jsx)("div",{className:"text-xl mb-1",children:"\ud83c\udfad"}),(0,Lt.jsxs)("div",{className:"text-sm font-medium text-white",children:["Option ",e]})]})},e)))})]}),(0,Lt.jsxs)("div",{className:"bg-white/5 p-4 rounded-lg border border-white/20",children:[(0,Lt.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"\ud83d\ude80 Ultra-Realistic Features:"}),(0,Lt.jsxs)("ul",{className:"text-xs text-gray-300 space-y-1",children:[(0,Lt.jsx)("li",{children:"\u2022 Professional AI-generated human faces"}),(0,Lt.jsx)("li",{children:"\u2022 Perfect lip-sync with advanced audio analysis"}),(0,Lt.jsx)("li",{children:"\u2022 Dynamic backgrounds that change with script content"}),(0,Lt.jsx)("li",{children:"\u2022 Realistic facial expressions and micro-movements"}),(0,Lt.jsx)("li",{children:"\u2022 Studio-quality lighting and composition"}),(0,Lt.jsx)("li",{children:"\u2022 Maximum quality optimized for professional use"})]})]})]}),(0,Lt.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Lt.jsx)("button",{onClick:()=>le(!1),className:"flex-1 py-3 px-4 bg-gray-600 text-white font-semibold rounded-lg shadow-lg hover:bg-gray-700 transition-all duration-200",children:"Cancel"}),(0,Lt.jsx)("button",{onClick:async()=>{if(G){$(!0),_(""),le(!1);try{const e=await Rt.post("".concat(zt,"/generate-ultra-realistic-avatar-video"),{audio_base64:G,avatar_style:oe,gender:se,avatar_index:ce,script_text:g}),t=e.data.video_base64,n=atob(t),r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);const a=new Blob([r],{type:"video/mp4"}),l=URL.createObjectURL(a);Q({url:l,blob:a,duration:e.data.duration_seconds,requestId:e.data.request_id,avatarStyle:e.data.avatar_style,gender:e.data.gender,avatarIndex:e.data.avatar_index,scriptSegments:e.data.script_segments,backgroundContexts:e.data.background_contexts,aiModelUsed:e.data.ai_model_used,qualityLevel:e.data.quality_level})}catch(e){console.error("Error generating ultra-realistic avatar video:",e),_("Error generating ultra-realistic avatar video. Please try again.")}finally{$(!1)}}else _("Please generate audio first before creating avatar video.")},disabled:V,className:"flex-1 py-3 px-4 bg-gradient-to-r from-pink-600 to-red-600 text-white font-semibold rounded-lg shadow-lg hover:from-pink-700 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:V?(0,Lt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Lt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):"\ud83c\udfac Generate Ultra-Realistic Video"})]})]})})]})});var _e};const Ft=function(){return(0,Lt.jsx)("div",{className:"App",children:(0,Lt.jsx)(At,{})})};l.createRoot(document.getElementById("root")).render((0,Lt.jsx)(a.StrictMode,{children:(0,Lt.jsx)(Ft,{})}))})();
//# sourceMappingURL=main.7e641866.js.map